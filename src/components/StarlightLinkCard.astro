---
// src/components/StarlightLinkCard.astro
import linkMap from '../../public/discussions.json';
import { useTranslations } from '~/i18n/util';
import { LinkCard } from '@astrojs/starlight/components';

const t = useTranslations(Astro);

// Get current path
const currentPath = Astro.url.pathname;

// Find matching link by checking if path ends with key
const href = Object.entries(linkMap).find(([key]) => 
  currentPath.endsWith(key))?.[1] || linkMap['/'];
---

<LinkCard title={t('discussion.title')} href={href} target="_blank" rel="noopener noreferrer" />
